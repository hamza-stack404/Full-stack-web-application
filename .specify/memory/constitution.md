<!--
---
Sync Impact Report
---
- **Version change**: 0.0.0 → 1.0.0
- **Modified principles**:
  - NEW: Spec-Driven Only
  - NEW: Agentic Dev Stack
  - NEW: User Isolation
  - NEW: Stateless Architecture
- **Added sections**:
  - Technology Stack Constraints
  - Architectural Standards
  - Documentation & Memory
  - Definition of Done for Phase II
- **Templates requiring updates**:
  - ⚠ pending: .specify/templates/plan-template.md
  - ⚠ pending: .specify/templates/spec-template.md
  - ⚠ pending: .specify/templates/tasks-template.md
  - ⚠ pending: .gemini/commands/sp.implement.toml
  - ⚠ pending: GEMINI.md
-->

# Full-Stack Web Application Constitution

## 1. Core Principles

- **Spec-Driven Only**: No code shall be written manually. Every line of code must be generated by an AI agent (Gemini Cli) based on a validated task from `speckit.tasks`.
- **Agentic Dev Stack**: Follow the strict lifecycle: Specify → Plan → Tasks → Implement.
- **User Isolation**: Security is a primary constraint. Every data operation MUST be filtered by the authenticated user's ID. A user should never be able to access or modify another user's tasks.
- **Stateless Architecture**: The backend should remain stateless, relying on the database and JWT for context.

## 2. Technology Stack Constraints

- **Frontend**: Next.js 16+ (App Router), TypeScript, Tailwind CSS.
- **Backend**: Python 3.13+ with FastAPI.
- **ORM**: SQLModel for all database interactions.
- **Database**: Neon Serverless PostgreSQL.
- **Authentication**: Better Auth with JWT plugin.
- **Environment**: WSL 2 (Ubuntu-22.04) for Windows users.

## 3. Architectural Standards

- **Monorepo Structure**: The project must be organized as a monorepo with `/frontend`, `/backend`, and `/specs` directories to maintain a single context for the AI agent.
- **API Standards**: 
    - All routes must be under `/api/`.
    - Return JSON responses only.
    - Use Pydantic models for all request and response validation.
    - Use proper HTTP status codes (e.g., 401 for Unauthorized, 404 for Not Found).
- **Auth Integration**: Both frontend and backend must use a shared `BETTER_AUTH_SECRET` for JWT signing and verification.
- **UI/UX**: Responsive design using Tailwind CSS; no inline styles allowed.

## 4. Documentation & Memory

- **GEMINI.md Hierarchy**: Maintain a root `GEMINI.md` for project overview and sub-folder `GEMINI.md` files for technology-specific patterns (Frontend/Backend).
- **Traceability**: Every implementation must reference a specific Task ID from `speckit.tasks`.

## 5. Definition of Done for Phase II

- Full CRUD functionality implemented for tasks (Add, View, Update, Delete, Toggle Complete).
- Persistent storage in Neon DB.
- Functional User Signup/Signin.
- Secured API endpoints requiring valid JWT.
- Successful deployment of frontend on Vercel and backend on a reachable URL.

## Governance

This Constitution is the single source of truth for all architectural and development standards. All development activities, whether performed by humans or AI agents, MUST adhere to these principles.

- **Amendment Process**: Amendments require a pull request, formal review, and approval from the project lead. The amended constitution must be propagated to all relevant templates and documentation.
- **Compliance**: All pull requests will be checked for compliance with this constitution. Non-compliant work will be rejected.

**Version**: 1.0.0 | **Ratified**: 2026-01-04 | **Last Amended**: 2026-01-04